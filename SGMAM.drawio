<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36" version="29.2.9">
  <diagram name="SGMAM - ERD" id="ox8mCwAvAsSzPcWqXDPF">
    <mxGraphModel dx="2929" dy="1420" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="4nJBQFs0ENrmD5sySjpN-1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=12;" value="&lt;h2&gt;&lt;/h2&gt;&lt;h1&gt;ATIVO (Equipamento)&lt;/h1&gt;&lt;h2&gt;O sistema deve permitir a gestão completa do inventário de ativos do município.&lt;/h2&gt;&lt;div&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;PK id:int (sequencial)&lt;br&gt;nome:string&lt;br&gt;categoria:enum {Viatura, IT, Mobiliário, Ferramenta, Outro}&lt;br&gt;localizacao:string&lt;br&gt;data_aquisicao:date (YYYY-MM-DD)&lt;br&gt;estado:enum {Operacional, Em Manutenção, Abatido}&lt;br&gt;status:enum {ATIVO, INATIVO}&lt;/font&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="300" width="460" x="450" y="140" as="geometry" />
        </mxCell>
        <mxCell id="4nJBQFs0ENrmD5sySjpN-2" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=12;" value="&lt;h1&gt;DEPARTAMENTO&lt;/h1&gt;&lt;h2&gt;O sistema deve permitir a gestão completa do inventário de ativos do município.&lt;/h2&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;PK id:int (sequencial)&lt;br&gt;nome:string&lt;br&gt;responsavel:string&lt;br&gt;contacto:string (email/telefone)&lt;br&gt;status:enum {ATIVO, INATIVO}&lt;/font&gt;" vertex="1">
          <mxGeometry height="280" width="420" x="390" y="520" as="geometry" />
        </mxCell>
        <mxCell id="4nJBQFs0ENrmD5sySjpN-3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=12;" value="&lt;h1&gt;TÉCNICO&lt;/h1&gt;&lt;h2&gt;O sistema deve permitir a gestão completa da equipa técnica responsável pelas manutenções.&lt;/h2&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;PK id:int (sequencial)&lt;br&gt;nome:string&lt;br&gt;especialidade:enum {Mecânico, Eletricista, IT, Outros}&lt;br&gt;estado:enum {Disponível, Ocupado}&lt;br&gt;status:enum {ATIVO, INATIVO}&lt;/font&gt;" vertex="1">
          <mxGeometry height="290" width="480" x="1400" y="140" as="geometry" />
        </mxCell>
        <mxCell id="4nJBQFs0ENrmD5sySjpN-4" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=12;" value="&lt;h1&gt;ORDEM DE MANUTENÇÃO&lt;/h1&gt;&lt;h2&gt;As ordens de manutenção são o núcleo do sistema.&lt;/h2&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;PK id:int (sequencial)&lt;br&gt;FK idAtivo:int → ATIVO.id&lt;br&gt;FK idDepartamento:int → DEPARTAMENTO.id&lt;br&gt;FK idTecnico:int (0/NULL) → TÉCNICO.id&lt;br&gt;data_pedido:date&lt;br&gt;prioridade:enum {Baixa, Normal, Urgente}&lt;br&gt;tipo:enum {Preventiva, Corretiva}&lt;br&gt;estado:enum {Pendente, Em Execução, Concluída, Cancelada}&lt;br&gt;descricao:string&lt;br&gt;data_conclusao:date (válida se Concluída)&lt;br&gt;materiais:lista (1..N)&lt;/font&gt;" vertex="1">
          <mxGeometry height="390" width="430" x="980" y="580" as="geometry" />
        </mxCell>
        <mxCell id="4nJBQFs0ENrmD5sySjpN-5" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;" value="&lt;h2&gt;MATERIAL (sub-estrutura)&lt;/h2&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;item:string&lt;br&gt;quantidade:int&lt;br&gt;custo_unit:double&lt;br&gt;Regra: pertence a 1 Ordem (1..N)&lt;/font&gt;" vertex="1">
          <mxGeometry height="200" width="400" x="1560" y="580" as="geometry" />
        </mxCell>
        <mxCell id="4nJBQFs0ENrmD5sySjpN-6" edge="1" parent="1" source="4nJBQFs0ENrmD5sySjpN-4" style="endArrow=block;html=1;rounded=0;strokeWidth=2;" target="4nJBQFs0ENrmD5sySjpN-1" value="N : 1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4nJBQFs0ENrmD5sySjpN-7" edge="1" parent="1" source="4nJBQFs0ENrmD5sySjpN-4" style="endArrow=block;html=1;rounded=0;strokeWidth=2;" target="4nJBQFs0ENrmD5sySjpN-2" value="N : 1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4nJBQFs0ENrmD5sySjpN-8" edge="1" parent="1" source="4nJBQFs0ENrmD5sySjpN-4" style="endArrow=block;html=1;rounded=0;strokeWidth=2;" target="4nJBQFs0ENrmD5sySjpN-3" value="N : 0..1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4nJBQFs0ENrmD5sySjpN-9" edge="1" parent="1" source="4nJBQFs0ENrmD5sySjpN-4" style="endArrow=block;html=1;rounded=0;strokeWidth=2;" target="4nJBQFs0ENrmD5sySjpN-5" value="1 : N">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="4nJBQFs0ENrmD5sySjpN-11" parent="1" style="text;html=1;whiteSpace=wrap;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;rounded=0;" value="Text" vertex="1">
          <mxGeometry height="30" width="60" x="1800" y="540" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
